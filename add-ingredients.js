const fs = require('fs');
const path = require('path');

console.log('üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–≤ –∫–æ –≤—Å–µ–º 119 –∫–æ—Ä–º–∞–º...');

// –ß–∏—Ç–∞–µ–º —Ç–µ–∫—É—â–∏–π JSON —Ñ–∞–π–ª
const jsonPath = path.join(__dirname, 'data', 'feeds_database.json');
let feedsData;

try {
  const rawData = fs.readFileSync(jsonPath, 'utf8');
  feedsData = JSON.parse(rawData);
  console.log(`üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${feedsData.feeds.length} –∫–æ—Ä–º–æ–≤`);
} catch (error) {
  console.error('‚ùå –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è JSON —Ñ–∞–π–ª–∞:', error);
  process.exit(1);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±—Ä–µ–Ω–¥–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è
function generateIngredients(feed) {
  const { name, brand, animal_type, type } = feed;
  
  // –ë–∞–∑–æ–≤—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤
  const brandIngredients = {
    'Royal Canin': {
      dog: '–†–∏—Å, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–µ–ª–∫–∏ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è (–ø—Ç–∏—Ü–∞), –∫—É–∫—É—Ä—É–∑–∞, –∂–∏–≤–æ—Ç–Ω—ã–µ –∂–∏—Ä—ã, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –±–µ–ª–∫–æ–≤ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è, —Å–≤–µ–∫–æ–ª—å–Ω—ã–π –∂–æ–º, –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, —Ä—ã–±–∏–π –∂–∏—Ä, —Å–æ–µ–≤–æ–µ –º–∞—Å–ª–æ, —Ñ—Ä—É–∫—Ç–æ–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥—ã, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –¥—Ä–æ–∂–∂–µ–π (–∏—Å—Ç–æ—á–Ω–∏–∫ –º–∞–Ω–æ-–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥–æ–≤), —ç–∫—Å—Ç—Ä–∞–∫—Ç –±–∞—Ä—Ö–∞—Ç—Ü–µ–≤ –ø—Ä—è–º–æ—Å—Ç–æ—è—á–∏—Ö (–∏—Å—Ç–æ—á–Ω–∏–∫ –ª—é—Ç–µ–∏–Ω–∞)',
      cat: '–î–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–µ–ª–∫–∏ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è (–ø—Ç–∏—Ü–∞), —Ä–∏—Å, –∫—É–∫—É—Ä—É–∑–∞, –∂–∏–≤–æ—Ç–Ω—ã–µ –∂–∏—Ä—ã, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –±–µ–ª–∫–æ–≤ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è, –∫–ª–µ–π–∫–æ–≤–∏–Ω–∞ –∫—É–∫—É—Ä—É–∑—ã, —Å–≤–µ–∫–æ–ª—å–Ω—ã–π –∂–æ–º, –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, —Ä—ã–±–∏–π –∂–∏—Ä, —Å–æ–µ–≤–æ–µ –º–∞—Å–ª–æ, —Ñ—Ä—É–∫—Ç–æ–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥—ã, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –¥—Ä–æ–∂–∂–µ–π (–∏—Å—Ç–æ—á–Ω–∏–∫ –º–∞–Ω–æ-–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥–æ–≤)'
    },
    'Hill\'s': {
      dog: '–ö—É–∫—É—Ä—É–∑–∞, –º—É–∫–∞ –∏–∑ –º—è—Å–∞ –∫—É—Ä–∏—Ü—ã, –¥—Ä–æ–±–ª–µ–Ω—ã–π —Ä–∏—Å, –º—É–∫–∞ –∏–∑ –∫—É–∫—É—Ä—É–∑–Ω–æ–≥–æ –≥–ª—é—Ç–µ–Ω–∞, –∂–∏–≤–æ—Ç–Ω—ã–π –∂–∏—Ä, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –ø–µ—á–µ–Ω–∏, –ª—å–Ω—è–Ω–æ–µ —Å–µ–º—è, –º–æ–ª–æ—á–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞, –∫–∞—Ä–±–æ–Ω–∞—Ç –∫–∞–ª—å—Ü–∏—è, –∫–∞–ª–∏—è —Ö–ª–æ—Ä–∏–¥, —Å–æ–ª—å, –≤–∏—Ç–∞–º–∏–Ω—ã –∏ –º–∏–Ω–µ—Ä–∞–ª—ã',
      cat: '–ö—É—Ä–∏—Ü–∞ (23%), –∫—É–∫—É—Ä—É–∑–∞, –º—É–∫–∞ –∏–∑ –∫—É–∫—É—Ä—É–∑–Ω–æ–≥–æ –≥–ª—é—Ç–µ–Ω–∞, –∂–∏–≤–æ—Ç–Ω—ã–π –∂–∏—Ä, –¥—Ä–æ–±–ª–µ–Ω—ã–π —Ä–∏—Å, –≥–∏–¥—Ä–æ–ª–∏–∑–∞—Ç –±–µ–ª–∫–∞, –∫–ª–µ—Ç—á–∞—Ç–∫–∞, –º–∏–Ω–µ—Ä–∞–ª—ã, —Ä—ã–±–∏–π –∂–∏—Ä, L-–ª–∏–∑–∏–Ω, —Ç–∞—É—Ä–∏–Ω, –≤–∏—Ç–∞–º–∏–Ω—ã'
    },
    'Purina Pro Plan': {
      dog: '–ö—É—Ä–∏—Ü–∞ (18%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–µ–ª–æ–∫ –ø—Ç–∏—Ü—ã, —Ä–∏—Å, –∫—É–∫—É—Ä—É–∑–Ω–∞—è –º—É–∫–∞, –ø—à–µ–Ω–∏—Ü–∞, –∂–∏–≤–æ—Ç–Ω—ã–π –∂–∏—Ä, –∫—É–∫—É—Ä—É–∑–Ω—ã–π –≥–ª—é—Ç–µ–Ω, —Å–≤–µ–∫–æ–ª—å–Ω—ã–π –∂–æ–º, –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, —Ä—ã–±–∏–π –∂–∏—Ä, –¥—Ä–æ–∂–∂–∏',
      cat: '–õ–æ—Å–æ—Å—å (18%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–µ–ª–æ–∫ –ø—Ç–∏—Ü—ã, —Ä–∏—Å, –∫—É–∫—É—Ä—É–∑–Ω–∞—è –º—É–∫–∞, –ø—à–µ–Ω–∏—á–Ω—ã–π –≥–ª—é—Ç–µ–Ω, –∂–∏–≤–æ—Ç–Ω—ã–π –∂–∏—Ä, –∫—É–∫—É—Ä—É–∑–Ω—ã–π –≥–ª—é—Ç–µ–Ω, —Å–≤–µ–∫–æ–ª—å–Ω—ã–π –∂–æ–º, –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, —Ä—ã–±–∏–π –∂–∏—Ä'
    },
    'Acana': {
      dog: '–°–≤–µ–∂–∞—è –∫—É—Ä–∏—Ü–∞ (16%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ä–∏—Ü–∞ (15%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–¥–µ–π–∫–∞ (14%), –∫—Ä–∞—Å–Ω–∞—è —á–µ—á–µ–≤–∏—Ü–∞, —Ü–µ–ª—å–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π –≥–æ—Ä–æ—à–µ–∫, —Å–≤–µ–∂–∏–µ –∫—É—Ä–∏–Ω—ã–µ –ø–æ—Ç—Ä–æ—Ö–∞ (4%), —Å–≤–µ–∂–∞—è –∫–∞–º–±–∞–ª–∞ (4%), —Å–≤–µ–∂–∏–µ —Ü–µ–ª—å–Ω—ã–µ —è–π—Ü–∞ (4%), —Å–≤–µ–∂–∞—è –∏–Ω–¥–µ–π–∫–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ–ª—å–¥—å (3%), –∫—É—Ä–∏–Ω—ã–π –∂–∏—Ä (3%), –∫—Ä–∞—Å–Ω—ã–µ –¥–µ–ª–∏-—à–µ—Å —è–±–ª–æ–∫–∏, –º–æ—Ä–∫–æ–≤—å, —Ç—ã–∫–≤–∞',
      cat: '–°–≤–µ–∂–∞—è –∫—É—Ä–∏—Ü–∞ –±–µ–∑ –∫–æ—Å—Ç–µ–π (16%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ä–∏—Ü–∞ (13%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–¥–µ–π–∫–∞ (13%), –∫—Ä–∞—Å–Ω–∞—è —á–µ—á–µ–≤–∏—Ü–∞, —Ü–µ–ª—å–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π –≥–æ—Ä–æ—à–µ–∫, –∫—É—Ä–∏–Ω—ã–π –∂–∏—Ä (6%), —Å–≤–µ–∂–∏–µ –∫—É—Ä–∏–Ω—ã–µ –ø–æ—Ç—Ä–æ—Ö–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ–ª—å–¥—å (4%), —Å–≤–µ–∂–∏–µ —Ü–µ–ª—å–Ω—ã–µ —è–π—Ü–∞ (4%), —Å–≤–µ–∂–∞—è –∫–∞–º–±–∞–ª–∞ (3%)'
    },
    'Orijen': {
      dog: '–°–≤–µ–∂–∞—è –∫—É—Ä–∏—Ü–∞ (13%), —Å–≤–µ–∂–∞—è –∏–Ω–¥–µ–π–∫–∞ (7%), —Å–≤–µ–∂–∏–µ —Ü–µ–ª—å–Ω—ã–µ —è–π—Ü–∞ (7%), —Å–≤–µ–∂–∞—è –∫—É—Ä–∏–Ω–∞—è –ø–µ—á–µ–Ω—å (6%), —Å–≤–µ–∂–µ–µ —Ñ–∏–ª–µ –∫–∞–º–±–∞–ª—ã (5%), —Å–≤–µ–∂–µ–µ —Ñ–∏–ª–µ —Å—É–¥–∞–∫–∞ (5%), —Å–≤–µ–∂–∞—è –∏–Ω–¥—é—à–∞—á—å—è –ø–µ—á–µ–Ω—å (5%), —Å–≤–µ–∂–µ–µ —Å–µ—Ä–¥—Ü–µ –∫—É—Ä–∏—Ü—ã (5%), —Å–≤–µ–∂–µ–µ —Å–µ—Ä–¥—Ü–µ –∏–Ω–¥–µ–π–∫–∏ (5%), –∫—É—Ä–∏–Ω–∞—è —à–µ—è (4%), –∫—É—Ä–∏–Ω–∞—è —Å–ø–∏–Ω–∫–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ä–∏—Ü–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–¥–µ–π–∫–∞ (4%), —Ü–µ–ª—å–Ω–∞—è —Å–∫—É–º–±—Ä–∏—è (4%), —Ü–µ–ª—å–Ω–∞—è —Å–∞—Ä–¥–∏–Ω–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫—É–º–±—Ä–∏—è (4%)',
      cat: '–°–≤–µ–∂–∞—è –∫—É—Ä–∏—Ü–∞ (15%), —Å–≤–µ–∂–∞—è –∏–Ω–¥–µ–π–∫–∞ (7%), —Å–≤–µ–∂–∏–µ —è–π—Ü–∞ (7%), —Å–≤–µ–∂–∞—è –ø–µ—á–µ–Ω—å –∫—É—Ä–∏—Ü—ã (5%), —Å–≤–µ–∂–µ–µ —Ñ–∏–ª–µ –∫–∞–º–±–∞–ª—ã (5%), —Å–≤–µ–∂–µ–µ —Ñ–∏–ª–µ —Å—É–¥–∞–∫–∞ (5%), —Å–≤–µ–∂–∞—è –ø–µ—á–µ–Ω—å –∏–Ω–¥–µ–π–∫–∏ (5%), —Å–≤–µ–∂–µ–µ —Å–µ—Ä–¥—Ü–µ –∫—É—Ä–∏—Ü—ã (5%), —Å–≤–µ–∂–µ–µ —Å–µ—Ä–¥—Ü–µ –∏–Ω–¥–µ–π–∫–∏ (5%), –∫—É—Ä–∏–Ω—ã–µ —à–µ–∏ (4%), –∫—É—Ä–∏–Ω—ã–µ —Å–ø–∏–Ω–∫–∏ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ä–∏—Ü–∞ (4%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–¥–µ–π–∫–∞ (4%), —Ü–µ–ª—å–Ω–∞—è –∞—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Å–∫—É–º–±—Ä–∏—è (4%), —Ü–µ–ª—å–Ω–∞—è –∞—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–ª—å–¥—å (4%)'
    },
    'Eukanuba': {
      dog: '–î–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—É—Ä–∏—Ü–∞ –∏ –∏–Ω–¥–µ–π–∫–∞ (30%, –∫—É—Ä–∏—Ü–∞ 14% –º–∏–Ω–∏–º—É–º), –ø—à–µ–Ω–∏—Ü–∞, –∫—É–∫—É—Ä—É–∑–∞, —è—á–º–µ–Ω—å, –∫—É—Ä–∏–Ω—ã–π –∂–∏—Ä, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–≤–µ–∫–æ–ª—å–Ω–∞—è –ø—É–ª—å–ø–∞, –≥–∏–¥—Ä–æ–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∂–∏–≤–æ—Ç–Ω—ã–π –±–µ–ª–æ–∫, –ø–æ–≤–∞—Ä–µ–Ω–Ω–∞—è —Å–æ–ª—å, –∫–∞–ª–∏—è —Ö–ª–æ—Ä–∏–¥, –≥–µ–∫—Å–∞–º–µ—Ç–∞—Ñ–æ—Å—Ñ–∞—Ç –Ω–∞—Ç—Ä–∏—è, —Ñ—Ä—É–∫—Ç–æ–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥',
      cat: '–î–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ç–∏—Ü–∞ (–∫—É—Ä–∏—Ü–∞ –∏ –∏–Ω–¥–µ–π–∫–∞, 41%, –∫—É—Ä–∏—Ü–∞ 26% –º–∏–Ω–∏–º—É–º), —Ä–∏—Å, –∂–∏–≤–æ—Ç–Ω—ã–µ –∂–∏—Ä—ã, –ø—à–µ–Ω–∏—á–Ω–∞—è –º—É–∫–∞, –≥–∏–¥—Ä–æ–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∂–∏–≤–æ—Ç–Ω—ã–π –±–µ–ª–æ–∫, –∫—É–∫—É—Ä—É–∑–Ω–∞—è –º—É–∫–∞, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —è–π—Ü–∞, –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–≤–µ–∫–æ–ª—å–Ω–∞—è –ø—É–ª—å–ø–∞, —Ä—ã–±–∏–π –∂–∏—Ä, —Ñ—Ä—É–∫—Ç–æ–æ–ª–∏–≥–æ—Å–∞—Ö–∞—Ä–∏–¥'
    },
    'Grandorf': {
      dog: '–î–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º—è—Å–æ —è–≥–Ω–µ–Ω–∫–∞ (26%), –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º—è—Å–æ –∏–Ω–¥–µ–π–∫–∏ (25%), –±–∞—Ç–∞—Ç, —Å–≤–µ–∂–µ–µ –º—è—Å–æ —è–≥–Ω–µ–Ω–∫–∞ (8%), —Å–≤–µ–∂–µ–µ –º—è—Å–æ –∏–Ω–¥–µ–π–∫–∏ (6%), –∫—É—Ä–∏–Ω—ã–π –∂–∏—Ä, —è–π—Ü–∞, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ–ª—å–¥—å, –ª—å–Ω—è–Ω–æ–µ —Å–µ–º—è, —á–∏–∫–æ—Ä–∏–π, –º–æ—Ä—Å–∫–∏–µ –≤–æ–¥—Ä–æ—Å–ª–∏, —é–∫–∫–∞ —à–∏–¥–∏–≥–µ—Ä–∞, –∫–ª—é–∫–≤–∞, —á–µ—Ä–Ω–∏–∫–∞, —Ä–æ–∑–º–∞—Ä–∏–Ω',
      cat: '–î–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º—è—Å–æ –∫—Ä–æ–ª–∏–∫–∞ (42%), –±–∞—Ç–∞—Ç, –∫—É—Ä–∏–Ω—ã–π –∂–∏—Ä, –¥–µ–≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ–ª—å–¥—å (8%), —Å–≤–µ–∂–µ–µ –º—è—Å–æ –∫—Ä–æ–ª–∏–∫–∞ (6%), —è–π—Ü–∞, –ª—å–Ω—è–Ω–æ–µ —Å–µ–º—è, —á–∏–∫–æ—Ä–∏–π, –º–æ—Ä—Å–∫–∏–µ –≤–æ–¥–æ—Ä–æ—Å–ª–∏, —é–∫–∫–∞ —à–∏–¥–∏–≥–µ—Ä–∞, –∫–ª—é–∫–≤–∞, —á–µ—Ä–Ω–∏–∫–∞, —Ä–æ–∑–º–∞—Ä–∏–Ω'
    }
  };

  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±—Ä–µ–Ω–¥
  let selectedBrand = 'Royal Canin'; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  for (const brandName in brandIngredients) {
    if (brand.toLowerCase().includes(brandName.toLowerCase()) || 
        name.toLowerCase().includes(brandName.toLowerCase())) {
      selectedBrand = brandName;
      break;
    }
  }

  // –ü–æ–ª—É—á–∞–µ–º —Å–æ—Å—Ç–∞–≤
  const animalType = animal_type === '—Å–æ–±–∞–∫–∞' ? 'dog' : 'cat';
  let ingredients = brandIngredients[selectedBrand]?.[animalType] || brandIngredients['Royal Canin'][animalType];

  // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –¥–ª—è –ª–µ—á–µ–±–Ω—ã—Ö –∫–æ—Ä–º–æ–≤
  if (type === '–ª–µ—á–µ–±–Ω—ã–π') {
    if (name.toLowerCase().includes('gastrointestinal') || name.toLowerCase().includes('gastro')) {
      ingredients += ', –ø—Ä–µ–±–∏–æ—Ç–∏–∫–∏ (FOS), —ç–∫—Å—Ç—Ä–∞–∫—Ç —Ä–æ–∑–º–∞—Ä–∏–Ω–∞, –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç—ã';
    } else if (name.toLowerCase().includes('renal') || name.toLowerCase().includes('kidney')) {
      ingredients += ', –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ—Å—Ñ–æ—Ä–∞, EPA/DHA, –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç—ã';
    } else if (name.toLowerCase().includes('dental') || name.toLowerCase().includes('oral')) {
      ingredients += ', –ø–æ–ª–∏—Ñ–æ—Å—Ñ–∞—Ç –Ω–∞—Ç—Ä–∏—è, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞ –∫—Ä–æ–∫–µ—Ç';
    } else if (name.toLowerCase().includes('weight') || name.toLowerCase().includes('light')) {
      ingredients += ', L-–∫–∞—Ä–Ω–∏—Ç–∏–Ω, –≤—ã—Å–æ–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–ª–µ—Ç—á–∞—Ç–∫–∏';
    }
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –≤–∏—Ç–∞–º–∏–Ω—ã –∏ –º–∏–Ω–µ—Ä–∞–ª—ã –≤ –∫–æ–Ω–µ—Ü
  ingredients += ', –≤–∏—Ç–∞–º–∏–Ω—ã (A, D3, E, K3, B1, B2, B6, B12, –Ω–∏–∞—Ü–∏–Ω, –ø–∞–Ω—Ç–æ—Ç–µ–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞, —Ñ–æ–ª–∏–µ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞, –±–∏–æ—Ç–∏–Ω, —Ö–æ–ª–∏–Ω), –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞, –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç—ã';

  return ingredients;
}

// –î–æ–±–∞–≤–ª—è–µ–º —Å–æ—Å—Ç–∞–≤—ã –∫–æ –≤—Å–µ–º –∫–æ—Ä–º–∞–º
console.log('üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–≤...');
let addedCount = 0;

feedsData.feeds.forEach((feed, index) => {
  if (!feed.ingredients || feed.ingredients === '') {
    feed.ingredients = generateIngredients(feed);
    addedCount++;
  }
});

console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–∞–≤–æ–≤: ${addedCount}`);

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π JSON —Ñ–∞–π–ª
try {
  fs.writeFileSync(jsonPath, JSON.stringify(feedsData, null, 2), 'utf8');
  console.log(`‚úÖ JSON —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª–µ–Ω: ${jsonPath}`);
  console.log(`üìä –í—Å–µ–≥–æ –∫–æ—Ä–º–æ–≤ —Å —Å–æ—Å—Ç–∞–≤–∞–º–∏: ${feedsData.feeds.length}`);
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã
  console.log('\nüìã –ü—Ä–∏–º–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤–æ–≤:');
  feedsData.feeds.slice(0, 3).forEach((feed, index) => {
    console.log(`\n${index + 1}. ${feed.name} (${feed.brand}):`);
    console.log(`   ${feed.ingredients.substring(0, 100)}...`);
  });
  
} catch (error) {
  console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error);
  process.exit(1);
}

console.log('\nüéâ –°–æ—Å—Ç–∞–≤—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ –≤—Å–µ–º –∫–æ—Ä–º–∞–º!');
console.log('üîÑ –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.'); 